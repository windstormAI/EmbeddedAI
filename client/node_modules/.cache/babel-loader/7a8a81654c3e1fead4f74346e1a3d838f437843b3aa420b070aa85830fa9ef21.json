{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\CascadeProjects\\\\embedded\\\\client\\\\src\\\\components\\\\circuit\\\\CircuitDesigner.js\",\n  _s = $RefreshSig$();\n/**\r\n * Circuit Designer Component\r\n * Advanced 2D circuit design interface with enhanced features\r\n */\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { Zap, Cpu, Lightbulb, Volume2, Thermometer, Eye, RotateCcw, ZoomIn, ZoomOut, Move, Square, Circle, Minus, Save, Download, Upload, Undo, Redo, Grid, Layers, Settings, Play, Pause, RotateCw, Copy, Trash2, Link, Unlink } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CircuitDesigner = ({\n  project,\n  onCircuitChange,\n  onCodeGenerate\n}) => {\n  _s();\n  var _project$circuitData, _project$circuitData2;\n  const canvasRef = useRef(null);\n  const [zoom, setZoom] = useState(1);\n  const [panOffset, setPanOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [selectedTool, setSelectedTool] = useState('select');\n  const [draggedComponent, setDraggedComponent] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionStart, setConnectionStart] = useState(null);\n  const [showGrid, setShowGrid] = useState(true);\n  const [snapToGrid, setSnapToGrid] = useState(true);\n  const [selectedComponents, setSelectedComponents] = useState([]);\n  const [clipboard, setClipboard] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n\n  // Circuit state\n  const [components, setComponents] = useState((project === null || project === void 0 ? void 0 : (_project$circuitData = project.circuitData) === null || _project$circuitData === void 0 ? void 0 : _project$circuitData.components) || []);\n  const [connections, setConnections] = useState((project === null || project === void 0 ? void 0 : (_project$circuitData2 = project.circuitData) === null || _project$circuitData2 === void 0 ? void 0 : _project$circuitData2.connections) || []);\n  const [selectedComponent, setSelectedComponent] = useState(null);\n\n  // Grid and snapping\n  const GRID_SIZE = 20;\n  const SNAP_THRESHOLD = 10;\n\n  // Snap to grid function\n  const snapToGridFunction = useCallback((x, y) => {\n    if (!snapToGrid) return {\n      x,\n      y\n    };\n    return {\n      x: Math.round(x / GRID_SIZE) * GRID_SIZE,\n      y: Math.round(y / GRID_SIZE) * GRID_SIZE\n    };\n  }, [snapToGrid]);\n\n  // Save state to history\n  const saveToHistory = useCallback((newComponents, newConnections) => {\n    const state = {\n      components: newComponents,\n      connections: newConnections\n    };\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push(state);\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  }, [history, historyIndex]);\n\n  // Undo/Redo functions\n  const undo = useCallback(() => {\n    if (historyIndex > 0) {\n      const prevState = history[historyIndex - 1];\n      setComponents(prevState.components);\n      setConnections(prevState.connections);\n      setHistoryIndex(historyIndex - 1);\n      onCircuitChange(prevState);\n    }\n  }, [history, historyIndex, onCircuitChange]);\n  const redo = useCallback(() => {\n    if (historyIndex < history.length - 1) {\n      const nextState = history[historyIndex + 1];\n      setComponents(nextState.components);\n      setConnections(nextState.connections);\n      setHistoryIndex(historyIndex + 1);\n      onCircuitChange(nextState);\n    }\n  }, [history, historyIndex, onCircuitChange]);\n\n  // Initialize history\n  useEffect(() => {\n    if (components.length > 0 || connections.length > 0) {\n      saveToHistory(components, connections);\n    }\n  }, []); // Only on mount\n\n  // Available components with enhanced properties\n  const componentLibrary = [{\n    id: 'arduino-uno',\n    name: 'Arduino Uno',\n    icon: Cpu,\n    category: 'board',\n    pins: 14,\n    color: '#00979C',\n    size: {\n      width: 120,\n      height: 80\n    }\n  }, {\n    id: 'esp32',\n    name: 'ESP32',\n    icon: Cpu,\n    category: 'board',\n    pins: 38,\n    color: '#E7352C',\n    size: {\n      width: 100,\n      height: 60\n    }\n  }, {\n    id: 'led',\n    name: 'LED',\n    icon: Lightbulb,\n    category: 'output',\n    pins: 2,\n    color: '#FFD700',\n    size: {\n      width: 40,\n      height: 40\n    }\n  }, {\n    id: 'push-button',\n    name: 'Push Button',\n    icon: Square,\n    category: 'input',\n    pins: 2,\n    color: '#4A90E2',\n    size: {\n      width: 50,\n      height: 50\n    }\n  }, {\n    id: 'potentiometer',\n    name: 'Potentiometer',\n    icon: Circle,\n    category: 'input',\n    pins: 3,\n    color: '#7ED321',\n    size: {\n      width: 60,\n      height: 40\n    }\n  }, {\n    id: 'buzzer',\n    name: 'Buzzer',\n    icon: Volume2,\n    category: 'output',\n    pins: 2,\n    color: '#F5A623',\n    size: {\n      width: 45,\n      height: 45\n    }\n  }, {\n    id: 'temperature-sensor',\n    name: 'Temp Sensor',\n    icon: Thermometer,\n    category: 'input',\n    pins: 3,\n    color: '#D0021B',\n    size: {\n      width: 55,\n      height: 35\n    }\n  }, {\n    id: 'photoresistor',\n    name: 'Photoresistor',\n    icon: Eye,\n    category: 'input',\n    pins: 2,\n    color: '#BD10E0',\n    size: {\n      width: 50,\n      height: 30\n    }\n  }];\n\n  // Handle component drag start\n  const handleDragStart = (e, component) => {\n    setDraggedComponent(component);\n    e.dataTransfer.effectAllowed = 'copy';\n  };\n\n  // Handle drop on canvas\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    if (!draggedComponent) return;\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = (e.clientX - rect.left - panOffset.x) / zoom;\n    const y = (e.clientY - rect.top - panOffset.y) / zoom;\n    const snapped = snapToGridFunction(x, y);\n    const newComponent = {\n      id: `${draggedComponent.id}_${Date.now()}`,\n      type: draggedComponent.id,\n      name: draggedComponent.name,\n      x: snapped.x,\n      y: snapped.y,\n      rotation: 0,\n      properties: {},\n      color: draggedComponent.color,\n      size: draggedComponent.size,\n      pins: draggedComponent.pins\n    };\n    const updatedComponents = [...components, newComponent];\n    setComponents(updatedComponents);\n    saveToHistory(updatedComponents, connections);\n\n    // Notify parent of changes\n    onCircuitChange({\n      components: updatedComponents,\n      connections\n    });\n    setDraggedComponent(null);\n  }, [draggedComponent, components, connections, panOffset, zoom, snapToGrid, saveToHistory, onCircuitChange]);\n\n  // Handle component selection\n  const handleComponentClick = (componentId, e) => {\n    e.stopPropagation();\n    if (selectedTool === 'select') {\n      if (e.ctrlKey || e.metaKey) {\n        // Multi-select\n        setSelectedComponents(prev => prev.includes(componentId) ? prev.filter(id => id !== componentId) : [...prev, componentId]);\n      } else {\n        // Single select\n        setSelectedComponents([componentId]);\n        setSelectedComponent(componentId);\n      }\n    } else if (selectedTool === 'connect') {\n      handleConnectionClick(componentId);\n    }\n  };\n\n  // Handle connections\n  const handleConnectionClick = componentId => {\n    if (!isConnecting) {\n      setIsConnecting(true);\n      setConnectionStart(componentId);\n    } else {\n      if (connectionStart !== componentId) {\n        createConnection(connectionStart, componentId);\n      }\n      setIsConnecting(false);\n      setConnectionStart(null);\n    }\n  };\n  const createConnection = (fromId, toId) => {\n    const newConnection = {\n      id: `conn_${Date.now()}`,\n      from: {\n        componentId: fromId,\n        pin: 'out'\n      },\n      to: {\n        componentId: toId,\n        pin: 'in'\n      },\n      type: 'wire',\n      color: '#000000'\n    };\n    const updatedConnections = [...connections, newConnection];\n    setConnections(updatedConnections);\n    saveToHistory(components, updatedConnections);\n    onCircuitChange({\n      components,\n      connections: updatedConnections\n    });\n  };\n\n  // Handle canvas pan\n  const handleMouseDown = e => {\n    if (selectedTool === 'pan' || e.altKey) {\n      setIsDragging(true);\n    }\n  };\n  const handleMouseMove = e => {\n    if (isDragging && (selectedTool === 'pan' || e.altKey)) {\n      setPanOffset(prev => ({\n        x: prev.x + e.movementX,\n        y: prev.y + e.movementY\n      }));\n    }\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  // Zoom controls\n  const handleZoomIn = () => setZoom(prev => Math.min(prev * 1.2, 3));\n  const handleZoomOut = () => setZoom(prev => Math.max(prev * 0.8, 0.3));\n  const handleResetView = () => {\n    setZoom(1);\n    setPanOffset({\n      x: 0,\n      y: 0\n    });\n  };\n\n  // Component management\n  const handleDeleteComponent = () => {\n    const updatedComponents = components.filter(comp => !selectedComponents.includes(comp.id));\n    const updatedConnections = connections.filter(conn => !selectedComponents.includes(conn.from.componentId) && !selectedComponents.includes(conn.to.componentId));\n    setComponents(updatedComponents);\n    setConnections(updatedConnections);\n    setSelectedComponents([]);\n    setSelectedComponent(null);\n    saveToHistory(updatedComponents, updatedConnections);\n    onCircuitChange({\n      components: updatedComponents,\n      connections: updatedConnections\n    });\n  };\n  const handleCopyComponents = () => {\n    const componentsToCopy = components.filter(comp => selectedComponents.includes(comp.id));\n    setClipboard(componentsToCopy);\n  };\n  const handlePasteComponents = () => {\n    if (clipboard.length === 0) return;\n    const pastedComponents = clipboard.map(comp => ({\n      ...comp,\n      id: `${comp.id}_copy_${Date.now()}`,\n      x: comp.x + 50,\n      y: comp.y + 50\n    }));\n    const updatedComponents = [...components, ...pastedComponents];\n    setComponents(updatedComponents);\n    saveToHistory(updatedComponents, connections);\n    onCircuitChange({\n      components: updatedComponents,\n      connections\n    });\n  };\n\n  // Generate code from circuit\n  const handleGenerateCode = () => {\n    if (onCodeGenerate && components.length > 0) {\n      const circuitDescription = generateCircuitDescription();\n      onCodeGenerate(circuitDescription);\n    }\n  };\n  const generateCircuitDescription = () => {\n    const board = components.find(comp => comp.type.includes('arduino') || comp.type.includes('esp'));\n    const sensors = components.filter(comp => comp.type.includes('sensor'));\n    const actuators = components.filter(comp => comp.type.includes('led') || comp.type.includes('buzzer'));\n    let description = `Create Arduino code for a circuit with:`;\n    if (board) {\n      description += `\\n- ${board.name} as the microcontroller`;\n    }\n    if (sensors.length > 0) {\n      description += `\\n- Sensors: ${sensors.map(s => s.name).join(', ')}`;\n    }\n    if (actuators.length > 0) {\n      description += `\\n- Actuators: ${actuators.map(a => a.name).join(', ')}`;\n    }\n    if (connections.length > 0) {\n      description += `\\n- ${connections.length} connections between components`;\n    }\n    description += `\\n\\nPlease generate complete Arduino code with proper setup, loop, and pin configurations.`;\n    return description;\n  };\n\n  // Export circuit as JSON\n  const handleExportCircuit = () => {\n    const circuitData = {\n      components,\n      connections,\n      metadata: {\n        exportedAt: new Date().toISOString(),\n        version: '1.0',\n        projectName: (project === null || project === void 0 ? void 0 : project.name) || 'Untitled Circuit'\n      }\n    };\n    const blob = new Blob([JSON.stringify(circuitData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${(project === null || project === void 0 ? void 0 : project.name) || 'circuit'}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // Import circuit from JSON\n  const handleImportCircuit = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        try {\n          const circuitData = JSON.parse(e.target.result);\n          if (circuitData.components && circuitData.connections) {\n            setComponents(circuitData.components);\n            setConnections(circuitData.connections);\n            saveToHistory(circuitData.components, circuitData.connections);\n            onCircuitChange({\n              components: circuitData.components,\n              connections: circuitData.connections\n            });\n          }\n        } catch (error) {\n          console.error('Failed to import circuit:', error);\n        }\n      };\n      reader.readAsText(file);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full flex flex-col bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-gray-200 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Circuit Designer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedTool('select'),\n              className: `p-2 rounded ${selectedTool === 'select' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`,\n              title: \"Select Tool\",\n              children: /*#__PURE__*/_jsxDEV(Move, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedTool('pan'),\n              className: `p-2 rounded ${selectedTool === 'pan' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`,\n              title: \"Pan Tool\",\n              children: /*#__PURE__*/_jsxDEV(Move, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedTool('connect'),\n              className: `p-2 rounded ${selectedTool === 'connect' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`,\n              title: \"Connect Tool\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowGrid(!showGrid),\n              className: `p-2 rounded ${showGrid ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`,\n              title: \"Toggle Grid\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSnapToGrid(!snapToGrid),\n              className: `p-2 rounded ${snapToGrid ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`,\n              title: \"Toggle Snap to Grid\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleZoomOut,\n              className: \"p-2 hover:bg-gray-100 rounded\",\n              title: \"Zoom Out\",\n              children: /*#__PURE__*/_jsxDEV(ZoomOut, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 min-w-[60px] text-center\",\n              children: [Math.round(zoom * 100), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleZoomIn,\n              className: \"p-2 hover:bg-gray-100 rounded\",\n              title: \"Zoom In\",\n              children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleResetView,\n              className: \"p-2 hover:bg-gray-100 rounded\",\n              title: \"Reset View\",\n              children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: undo,\n            disabled: historyIndex <= 0,\n            className: \"p-2 hover:bg-gray-100 rounded disabled:opacity-50\",\n            title: \"Undo\",\n            children: /*#__PURE__*/_jsxDEV(Undo, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: redo,\n            disabled: historyIndex >= history.length - 1,\n            className: \"p-2 hover:bg-gray-100 rounded disabled:opacity-50\",\n            title: \"Redo\",\n            children: /*#__PURE__*/_jsxDEV(Redo, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), selectedComponents.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCopyComponents,\n              className: \"p-2 hover:bg-gray-100 rounded\",\n              title: \"Copy\",\n              children: /*#__PURE__*/_jsxDEV(Copy, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDeleteComponent,\n              className: \"p-2 hover:bg-red-100 text-red-600 rounded\",\n              title: \"Delete\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePasteComponents,\n            disabled: clipboard.length === 0,\n            className: \"p-2 hover:bg-gray-100 rounded disabled:opacity-50\",\n            title: \"Paste\",\n            children: /*#__PURE__*/_jsxDEV(Square, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerateCode,\n            disabled: components.length === 0,\n            className: \"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded disabled:opacity-50\",\n            title: \"Generate Code\",\n            children: [/*#__PURE__*/_jsxDEV(Zap, {\n              className: \"h-4 w-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 15\n            }, this), \"Generate Code\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportCircuit,\n            className: \"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded\",\n            title: \"Export Circuit\",\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              className: \"h-4 w-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this), \"Export\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              className: \"h-4 w-4 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 15\n            }, this), \"Import\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".json\",\n              onChange: handleImportCircuit,\n              className: \"hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-64 border-r border-gray-200 bg-gray-50 p-4 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-sm font-semibold text-gray-900 mb-4\",\n          children: \"Component Library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: ['board', 'input', 'output'].map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-xs font-medium text-gray-700 uppercase tracking-wide mb-2\",\n              children: category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: componentLibrary.filter(comp => comp.category === category).map(component => {\n                const Icon = component.icon;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  draggable: true,\n                  onDragStart: e => handleDragStart(e, component),\n                  className: \"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm cursor-move transition-all\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-2 rounded\",\n                    style: {\n                      backgroundColor: component.color + '20'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Icon, {\n                      className: \"h-5 w-5\",\n                      style: {\n                        color: component.color\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 620,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 616,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 min-w-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-medium text-gray-900 truncate\",\n                      children: component.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500\",\n                      children: [component.pins, \" pins\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 629,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 27\n                  }, this)]\n                }, component.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this)]\n          }, category, true, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 bg-gray-100 overflow-hidden relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: canvasRef,\n          className: \"w-full h-full cursor-crosshair\",\n          style: {\n            backgroundImage: showGrid ? `\n                radial-gradient(circle, #e5e7eb 1px, transparent 1px),\n                linear-gradient(to right, #f3f4f6 1px, transparent 1px),\n                linear-gradient(to bottom, #f3f4f6 1px, transparent 1px)\n              ` : 'none',\n            backgroundSize: showGrid ? `${GRID_SIZE * zoom}px ${GRID_SIZE * zoom}px` : 'auto',\n            backgroundPosition: `${panOffset.x}px ${panOffset.y}px`\n          },\n          onDrop: handleDrop,\n          onDragOver: e => e.preventDefault(),\n          onMouseDown: handleMouseDown,\n          onMouseMove: handleMouseMove,\n          onMouseUp: handleMouseUp,\n          onMouseLeave: handleMouseUp,\n          onClick: () => {\n            setSelectedComponents([]);\n            setSelectedComponent(null);\n          },\n          children: [connections.map(connection => {\n            var _fromComp$size, _fromComp$size2, _toComp$size, _toComp$size2;\n            const fromComp = components.find(c => c.id === connection.from.componentId);\n            const toComp = components.find(c => c.id === connection.to.componentId);\n            if (!fromComp || !toComp) return null;\n            const fromX = fromComp.x + (((_fromComp$size = fromComp.size) === null || _fromComp$size === void 0 ? void 0 : _fromComp$size.width) || 60) / 2;\n            const fromY = fromComp.y + (((_fromComp$size2 = fromComp.size) === null || _fromComp$size2 === void 0 ? void 0 : _fromComp$size2.height) || 40) / 2;\n            const toX = toComp.x + (((_toComp$size = toComp.size) === null || _toComp$size === void 0 ? void 0 : _toComp$size.width) || 60) / 2;\n            const toY = toComp.y + (((_toComp$size2 = toComp.size) === null || _toComp$size2 === void 0 ? void 0 : _toComp$size2.height) || 40) / 2;\n            return /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"absolute inset-0 pointer-events-none\",\n              style: {\n                zIndex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                x1: (fromX + panOffset.x) * zoom,\n                y1: (fromY + panOffset.y) * zoom,\n                x2: (toX + panOffset.x) * zoom,\n                y2: (toY + panOffset.y) * zoom,\n                stroke: connection.color,\n                strokeWidth: \"2\",\n                markerEnd: \"url(#arrowhead)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"defs\", {\n                children: /*#__PURE__*/_jsxDEV(\"marker\", {\n                  id: \"arrowhead\",\n                  markerWidth: \"10\",\n                  markerHeight: \"7\",\n                  refX: \"9\",\n                  refY: \"3.5\",\n                  orient: \"auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"0 0, 10 3.5, 0 7\",\n                    fill: connection.color\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 703,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 19\n              }, this)]\n            }, connection.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this);\n          }), components.map(component => {\n            var _component$size, _component$size2;\n            const libraryComponent = componentLibrary.find(c => c.id === component.type);\n            if (!libraryComponent) return null;\n            const Icon = libraryComponent.icon;\n            const isSelected = selectedComponents.includes(component.id);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `absolute cursor-move border-2 rounded-lg p-3 bg-white shadow-sm transition-all ${isSelected ? 'border-blue-500 bg-blue-50 shadow-lg scale-105' : 'border-gray-300 hover:border-gray-400 hover:shadow-md'}`,\n              style: {\n                left: component.x * zoom + panOffset.x,\n                top: component.y * zoom + panOffset.y,\n                transform: `scale(${zoom})`,\n                transformOrigin: 'top left',\n                minWidth: ((_component$size = component.size) === null || _component$size === void 0 ? void 0 : _component$size.width) || 60,\n                minHeight: ((_component$size2 = component.size) === null || _component$size2 === void 0 ? void 0 : _component$size2.height) || 40\n              },\n              onClick: e => handleComponentClick(component.id, e),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-1 rounded\",\n                  style: {\n                    backgroundColor: component.color + '20'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Icon, {\n                    className: \"h-4 w-4\",\n                    style: {\n                      color: component.color\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 744,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 21\n                }, this), isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => {\n                      e.stopPropagation();\n                      // Rotate component\n                      const updatedComponents = components.map(comp => comp.id === component.id ? {\n                        ...comp,\n                        rotation: (comp.rotation + 90) % 360\n                      } : comp);\n                      setComponents(updatedComponents);\n                      saveToHistory(updatedComponents, connections);\n                    },\n                    className: \"p-1 hover:bg-gray-200 rounded\",\n                    children: /*#__PURE__*/_jsxDEV(RotateCw, {\n                      className: \"h-3 w-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 765,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 751,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-center text-gray-700 font-medium truncate\",\n                children: component.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute -left-1 top-1/2 transform -translate-y-1/2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-3 h-3 rounded-full border-2 cursor-pointer transition-colors ${isConnecting && connectionStart === component.id ? 'bg-blue-500 border-blue-600' : 'bg-white border-gray-400 hover:border-blue-400'}`,\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleConnectionClick(component.id);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute -right-1 top-1/2 transform -translate-y-1/2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-3 h-3 rounded-full border-2 cursor-pointer transition-colors ${isConnecting && connectionStart === component.id ? 'bg-blue-500 border-blue-600' : 'bg-white border-gray-400 hover:border-blue-400'}`,\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleConnectionClick(component.id);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 19\n              }, this)]\n            }, component.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 11\n        }, this), components.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(Zap, {\n              className: \"mx-auto h-16 w-16 text-gray-400 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-2\",\n              children: \"Start Designing Your Circuit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mb-4\",\n              children: \"Drag components from the sidebar to begin building your circuit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Tip: Use the pan tool to navigate and zoom controls to adjust view\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 13\n        }, this), isConnecting && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-4 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm\",\n              children: \"Click on another component to create connection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setIsConnecting(false);\n                setConnectionStart(null);\n              },\n              className: \"ml-2 hover:bg-blue-700 p-1 rounded\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 border-l border-gray-200 bg-gray-50 p-4 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-sm font-semibold text-gray-900 mb-4\",\n          children: \"Properties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 11\n        }, this), selectedComponent ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: (() => {\n            const component = components.find(c => c.id === selectedComponent);\n            if (!component) return null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-sm font-medium text-gray-900 mb-2\",\n                children: component.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs font-medium text-gray-700 mb-1\",\n                    children: \"Position X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: Math.round(component.x),\n                    onChange: e => {\n                      const updatedComponents = components.map(comp => comp.id === component.id ? {\n                        ...comp,\n                        x: parseInt(e.target.value) || 0\n                      } : comp);\n                      setComponents(updatedComponents);\n                      saveToHistory(updatedComponents, connections);\n                    },\n                    className: \"w-full px-2 py-1 text-sm border border-gray-300 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 866,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs font-medium text-gray-700 mb-1\",\n                    children: \"Position Y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: Math.round(component.y),\n                    onChange: e => {\n                      const updatedComponents = components.map(comp => comp.id === component.id ? {\n                        ...comp,\n                        y: parseInt(e.target.value) || 0\n                      } : comp);\n                      setComponents(updatedComponents);\n                      saveToHistory(updatedComponents, connections);\n                    },\n                    className: \"w-full px-2 py-1 text-sm border border-gray-300 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 886,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 882,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-xs font-medium text-gray-700 mb-1\",\n                    children: \"Rotation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 903,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: component.rotation || 0,\n                    onChange: e => {\n                      const updatedComponents = components.map(comp => comp.id === component.id ? {\n                        ...comp,\n                        rotation: parseInt(e.target.value) || 0\n                      } : comp);\n                      setComponents(updatedComponents);\n                      saveToHistory(updatedComponents, connections);\n                    },\n                    className: \"w-full px-2 py-1 text-sm border border-gray-300 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 906,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 19\n            }, this);\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Square, {\n            className: \"mx-auto h-8 w-8 mb-2 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"Select a component to view its properties\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 pt-4 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-sm font-medium text-gray-900 mb-2\",\n            children: \"Circuit Stats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Components:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: components.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Connections:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: connections.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Zoom:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [Math.round(zoom * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 443,\n    columnNumber: 5\n  }, this);\n};\n_s(CircuitDesigner, \"n9R73sLCDYlhDQySnptOdOIXmAU=\");\n_c = CircuitDesigner;\nexport default CircuitDesigner;\nvar _c;\n$RefreshReg$(_c, \"CircuitDesigner\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","Zap","Cpu","Lightbulb","Volume2","Thermometer","Eye","RotateCcw","ZoomIn","ZoomOut","Move","Square","Circle","Minus","Save","Download","Upload","Undo","Redo","Grid","Layers","Settings","Play","Pause","RotateCw","Copy","Trash2","Link","Unlink","jsxDEV","_jsxDEV","Fragment","_Fragment","CircuitDesigner","project","onCircuitChange","onCodeGenerate","_s","_project$circuitData","_project$circuitData2","canvasRef","zoom","setZoom","panOffset","setPanOffset","x","y","selectedTool","setSelectedTool","draggedComponent","setDraggedComponent","isDragging","setIsDragging","isConnecting","setIsConnecting","connectionStart","setConnectionStart","showGrid","setShowGrid","snapToGrid","setSnapToGrid","selectedComponents","setSelectedComponents","clipboard","setClipboard","history","setHistory","historyIndex","setHistoryIndex","components","setComponents","circuitData","connections","setConnections","selectedComponent","setSelectedComponent","GRID_SIZE","SNAP_THRESHOLD","snapToGridFunction","Math","round","saveToHistory","newComponents","newConnections","state","newHistory","slice","push","length","undo","prevState","redo","nextState","componentLibrary","id","name","icon","category","pins","color","size","width","height","handleDragStart","e","component","dataTransfer","effectAllowed","handleDrop","preventDefault","rect","current","getBoundingClientRect","clientX","left","clientY","top","snapped","newComponent","Date","now","type","rotation","properties","updatedComponents","handleComponentClick","componentId","stopPropagation","ctrlKey","metaKey","prev","includes","filter","handleConnectionClick","createConnection","fromId","toId","newConnection","from","pin","to","updatedConnections","handleMouseDown","altKey","handleMouseMove","movementX","movementY","handleMouseUp","handleZoomIn","min","handleZoomOut","max","handleResetView","handleDeleteComponent","comp","conn","handleCopyComponents","componentsToCopy","handlePasteComponents","pastedComponents","map","handleGenerateCode","circuitDescription","generateCircuitDescription","board","find","sensors","actuators","description","s","join","a","handleExportCircuit","metadata","exportedAt","toISOString","version","projectName","blob","Blob","JSON","stringify","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleImportCircuit","event","file","target","files","reader","FileReader","onload","parse","result","error","console","readAsText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","disabled","accept","onChange","Icon","draggable","onDragStart","style","backgroundColor","ref","backgroundImage","backgroundSize","backgroundPosition","onDrop","onDragOver","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","connection","_fromComp$size","_fromComp$size2","_toComp$size","_toComp$size2","fromComp","c","toComp","fromX","fromY","toX","toY","zIndex","x1","y1","x2","y2","stroke","strokeWidth","markerEnd","markerWidth","markerHeight","refX","refY","orient","points","fill","_component$size","_component$size2","libraryComponent","isSelected","transform","transformOrigin","minWidth","minHeight","X","value","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/CascadeProjects/embedded/client/src/components/circuit/CircuitDesigner.js"],"sourcesContent":["/**\r\n * Circuit Designer Component\r\n * Advanced 2D circuit design interface with enhanced features\r\n */\r\n\r\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport {\r\n  Zap,\r\n  Cpu,\r\n  Lightbulb,\r\n  Volume2,\r\n  Thermometer,\r\n  Eye,\r\n  RotateCcw,\r\n  ZoomIn,\r\n  ZoomOut,\r\n  Move,\r\n  Square,\r\n  Circle,\r\n  Minus,\r\n  Save,\r\n  Download,\r\n  Upload,\r\n  Undo,\r\n  Redo,\r\n  Grid,\r\n  Layers,\r\n  Settings,\r\n  Play,\r\n  Pause,\r\n  RotateCw,\r\n  Copy,\r\n  Trash2,\r\n  Link,\r\n  Unlink\r\n} from 'lucide-react';\r\n\r\nconst CircuitDesigner = ({ project, onCircuitChange, onCodeGenerate }) => {\r\n  const canvasRef = useRef(null);\r\n  const [zoom, setZoom] = useState(1);\r\n  const [panOffset, setPanOffset] = useState({ x: 0, y: 0 });\r\n  const [selectedTool, setSelectedTool] = useState('select');\r\n  const [draggedComponent, setDraggedComponent] = useState(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n  const [connectionStart, setConnectionStart] = useState(null);\r\n  const [showGrid, setShowGrid] = useState(true);\r\n  const [snapToGrid, setSnapToGrid] = useState(true);\r\n  const [selectedComponents, setSelectedComponents] = useState([]);\r\n  const [clipboard, setClipboard] = useState([]);\r\n  const [history, setHistory] = useState([]);\r\n  const [historyIndex, setHistoryIndex] = useState(-1);\r\n\r\n  // Circuit state\r\n  const [components, setComponents] = useState(project?.circuitData?.components || []);\r\n  const [connections, setConnections] = useState(project?.circuitData?.connections || []);\r\n  const [selectedComponent, setSelectedComponent] = useState(null);\r\n\r\n  // Grid and snapping\r\n  const GRID_SIZE = 20;\r\n  const SNAP_THRESHOLD = 10;\r\n\r\n  // Snap to grid function\r\n  const snapToGridFunction = useCallback((x, y) => {\r\n    if (!snapToGrid) return { x, y };\r\n    return {\r\n      x: Math.round(x / GRID_SIZE) * GRID_SIZE,\r\n      y: Math.round(y / GRID_SIZE) * GRID_SIZE\r\n    };\r\n  }, [snapToGrid]);\r\n\r\n  // Save state to history\r\n  const saveToHistory = useCallback((newComponents, newConnections) => {\r\n    const state = { components: newComponents, connections: newConnections };\r\n    const newHistory = history.slice(0, historyIndex + 1);\r\n    newHistory.push(state);\r\n    setHistory(newHistory);\r\n    setHistoryIndex(newHistory.length - 1);\r\n  }, [history, historyIndex]);\r\n\r\n  // Undo/Redo functions\r\n  const undo = useCallback(() => {\r\n    if (historyIndex > 0) {\r\n      const prevState = history[historyIndex - 1];\r\n      setComponents(prevState.components);\r\n      setConnections(prevState.connections);\r\n      setHistoryIndex(historyIndex - 1);\r\n      onCircuitChange(prevState);\r\n    }\r\n  }, [history, historyIndex, onCircuitChange]);\r\n\r\n  const redo = useCallback(() => {\r\n    if (historyIndex < history.length - 1) {\r\n      const nextState = history[historyIndex + 1];\r\n      setComponents(nextState.components);\r\n      setConnections(nextState.connections);\r\n      setHistoryIndex(historyIndex + 1);\r\n      onCircuitChange(nextState);\r\n    }\r\n  }, [history, historyIndex, onCircuitChange]);\r\n\r\n  // Initialize history\r\n  useEffect(() => {\r\n    if (components.length > 0 || connections.length > 0) {\r\n      saveToHistory(components, connections);\r\n    }\r\n  }, []); // Only on mount\r\n\r\n  // Available components with enhanced properties\r\n  const componentLibrary = [\r\n    {\r\n      id: 'arduino-uno',\r\n      name: 'Arduino Uno',\r\n      icon: Cpu,\r\n      category: 'board',\r\n      pins: 14,\r\n      color: '#00979C',\r\n      size: { width: 120, height: 80 }\r\n    },\r\n    {\r\n      id: 'esp32',\r\n      name: 'ESP32',\r\n      icon: Cpu,\r\n      category: 'board',\r\n      pins: 38,\r\n      color: '#E7352C',\r\n      size: { width: 100, height: 60 }\r\n    },\r\n    {\r\n      id: 'led',\r\n      name: 'LED',\r\n      icon: Lightbulb,\r\n      category: 'output',\r\n      pins: 2,\r\n      color: '#FFD700',\r\n      size: { width: 40, height: 40 }\r\n    },\r\n    {\r\n      id: 'push-button',\r\n      name: 'Push Button',\r\n      icon: Square,\r\n      category: 'input',\r\n      pins: 2,\r\n      color: '#4A90E2',\r\n      size: { width: 50, height: 50 }\r\n    },\r\n    {\r\n      id: 'potentiometer',\r\n      name: 'Potentiometer',\r\n      icon: Circle,\r\n      category: 'input',\r\n      pins: 3,\r\n      color: '#7ED321',\r\n      size: { width: 60, height: 40 }\r\n    },\r\n    {\r\n      id: 'buzzer',\r\n      name: 'Buzzer',\r\n      icon: Volume2,\r\n      category: 'output',\r\n      pins: 2,\r\n      color: '#F5A623',\r\n      size: { width: 45, height: 45 }\r\n    },\r\n    {\r\n      id: 'temperature-sensor',\r\n      name: 'Temp Sensor',\r\n      icon: Thermometer,\r\n      category: 'input',\r\n      pins: 3,\r\n      color: '#D0021B',\r\n      size: { width: 55, height: 35 }\r\n    },\r\n    {\r\n      id: 'photoresistor',\r\n      name: 'Photoresistor',\r\n      icon: Eye,\r\n      category: 'input',\r\n      pins: 2,\r\n      color: '#BD10E0',\r\n      size: { width: 50, height: 30 }\r\n    }\r\n  ];\r\n\r\n  // Handle component drag start\r\n  const handleDragStart = (e, component) => {\r\n    setDraggedComponent(component);\r\n    e.dataTransfer.effectAllowed = 'copy';\r\n  };\r\n\r\n  // Handle drop on canvas\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n\r\n    if (!draggedComponent) return;\r\n\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const x = (e.clientX - rect.left - panOffset.x) / zoom;\r\n    const y = (e.clientY - rect.top - panOffset.y) / zoom;\r\n\r\n    const snapped = snapToGridFunction(x, y);\r\n\r\n    const newComponent = {\r\n      id: `${draggedComponent.id}_${Date.now()}`,\r\n      type: draggedComponent.id,\r\n      name: draggedComponent.name,\r\n      x: snapped.x,\r\n      y: snapped.y,\r\n      rotation: 0,\r\n      properties: {},\r\n      color: draggedComponent.color,\r\n      size: draggedComponent.size,\r\n      pins: draggedComponent.pins\r\n    };\r\n\r\n    const updatedComponents = [...components, newComponent];\r\n    setComponents(updatedComponents);\r\n    saveToHistory(updatedComponents, connections);\r\n\r\n    // Notify parent of changes\r\n    onCircuitChange({\r\n      components: updatedComponents,\r\n      connections\r\n    });\r\n\r\n    setDraggedComponent(null);\r\n  }, [draggedComponent, components, connections, panOffset, zoom, snapToGrid, saveToHistory, onCircuitChange]);\r\n\r\n  // Handle component selection\r\n  const handleComponentClick = (componentId, e) => {\r\n    e.stopPropagation();\r\n\r\n    if (selectedTool === 'select') {\r\n      if (e.ctrlKey || e.metaKey) {\r\n        // Multi-select\r\n        setSelectedComponents(prev =>\r\n          prev.includes(componentId)\r\n            ? prev.filter(id => id !== componentId)\r\n            : [...prev, componentId]\r\n        );\r\n      } else {\r\n        // Single select\r\n        setSelectedComponents([componentId]);\r\n        setSelectedComponent(componentId);\r\n      }\r\n    } else if (selectedTool === 'connect') {\r\n      handleConnectionClick(componentId);\r\n    }\r\n  };\r\n\r\n  // Handle connections\r\n  const handleConnectionClick = (componentId) => {\r\n    if (!isConnecting) {\r\n      setIsConnecting(true);\r\n      setConnectionStart(componentId);\r\n    } else {\r\n      if (connectionStart !== componentId) {\r\n        createConnection(connectionStart, componentId);\r\n      }\r\n      setIsConnecting(false);\r\n      setConnectionStart(null);\r\n    }\r\n  };\r\n\r\n  const createConnection = (fromId, toId) => {\r\n    const newConnection = {\r\n      id: `conn_${Date.now()}`,\r\n      from: { componentId: fromId, pin: 'out' },\r\n      to: { componentId: toId, pin: 'in' },\r\n      type: 'wire',\r\n      color: '#000000'\r\n    };\r\n\r\n    const updatedConnections = [...connections, newConnection];\r\n    setConnections(updatedConnections);\r\n    saveToHistory(components, updatedConnections);\r\n\r\n    onCircuitChange({\r\n      components,\r\n      connections: updatedConnections\r\n    });\r\n  };\r\n\r\n  // Handle canvas pan\r\n  const handleMouseDown = (e) => {\r\n    if (selectedTool === 'pan' || e.altKey) {\r\n      setIsDragging(true);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (isDragging && (selectedTool === 'pan' || e.altKey)) {\r\n      setPanOffset(prev => ({\r\n        x: prev.x + e.movementX,\r\n        y: prev.y + e.movementY\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n  };\r\n\r\n  // Zoom controls\r\n  const handleZoomIn = () => setZoom(prev => Math.min(prev * 1.2, 3));\r\n  const handleZoomOut = () => setZoom(prev => Math.max(prev * 0.8, 0.3));\r\n  const handleResetView = () => {\r\n    setZoom(1);\r\n    setPanOffset({ x: 0, y: 0 });\r\n  };\r\n\r\n  // Component management\r\n  const handleDeleteComponent = () => {\r\n    const updatedComponents = components.filter(comp => !selectedComponents.includes(comp.id));\r\n    const updatedConnections = connections.filter(conn =>\r\n      !selectedComponents.includes(conn.from.componentId) &&\r\n      !selectedComponents.includes(conn.to.componentId)\r\n    );\r\n\r\n    setComponents(updatedComponents);\r\n    setConnections(updatedConnections);\r\n    setSelectedComponents([]);\r\n    setSelectedComponent(null);\r\n    saveToHistory(updatedComponents, updatedConnections);\r\n\r\n    onCircuitChange({\r\n      components: updatedComponents,\r\n      connections: updatedConnections\r\n    });\r\n  };\r\n\r\n  const handleCopyComponents = () => {\r\n    const componentsToCopy = components.filter(comp => selectedComponents.includes(comp.id));\r\n    setClipboard(componentsToCopy);\r\n  };\r\n\r\n  const handlePasteComponents = () => {\r\n    if (clipboard.length === 0) return;\r\n\r\n    const pastedComponents = clipboard.map(comp => ({\r\n      ...comp,\r\n      id: `${comp.id}_copy_${Date.now()}`,\r\n      x: comp.x + 50,\r\n      y: comp.y + 50\r\n    }));\r\n\r\n    const updatedComponents = [...components, ...pastedComponents];\r\n    setComponents(updatedComponents);\r\n    saveToHistory(updatedComponents, connections);\r\n\r\n    onCircuitChange({\r\n      components: updatedComponents,\r\n      connections\r\n    });\r\n  };\r\n\r\n  // Generate code from circuit\r\n  const handleGenerateCode = () => {\r\n    if (onCodeGenerate && components.length > 0) {\r\n      const circuitDescription = generateCircuitDescription();\r\n      onCodeGenerate(circuitDescription);\r\n    }\r\n  };\r\n\r\n  const generateCircuitDescription = () => {\r\n    const board = components.find(comp => comp.type.includes('arduino') || comp.type.includes('esp'));\r\n    const sensors = components.filter(comp => comp.type.includes('sensor'));\r\n    const actuators = components.filter(comp => comp.type.includes('led') || comp.type.includes('buzzer'));\r\n\r\n    let description = `Create Arduino code for a circuit with:`;\r\n\r\n    if (board) {\r\n      description += `\\n- ${board.name} as the microcontroller`;\r\n    }\r\n\r\n    if (sensors.length > 0) {\r\n      description += `\\n- Sensors: ${sensors.map(s => s.name).join(', ')}`;\r\n    }\r\n\r\n    if (actuators.length > 0) {\r\n      description += `\\n- Actuators: ${actuators.map(a => a.name).join(', ')}`;\r\n    }\r\n\r\n    if (connections.length > 0) {\r\n      description += `\\n- ${connections.length} connections between components`;\r\n    }\r\n\r\n    description += `\\n\\nPlease generate complete Arduino code with proper setup, loop, and pin configurations.`;\r\n\r\n    return description;\r\n  };\r\n\r\n  // Export circuit as JSON\r\n  const handleExportCircuit = () => {\r\n    const circuitData = {\r\n      components,\r\n      connections,\r\n      metadata: {\r\n        exportedAt: new Date().toISOString(),\r\n        version: '1.0',\r\n        projectName: project?.name || 'Untitled Circuit'\r\n      }\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(circuitData, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${project?.name || 'circuit'}.json`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // Import circuit from JSON\r\n  const handleImportCircuit = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const circuitData = JSON.parse(e.target.result);\r\n          if (circuitData.components && circuitData.connections) {\r\n            setComponents(circuitData.components);\r\n            setConnections(circuitData.connections);\r\n            saveToHistory(circuitData.components, circuitData.connections);\r\n\r\n            onCircuitChange({\r\n              components: circuitData.components,\r\n              connections: circuitData.connections\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to import circuit:', error);\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col bg-white\">\r\n      {/* Toolbar */}\r\n      <div className=\"border-b border-gray-200 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Circuit Designer</h3>\r\n\r\n            {/* Tool Selection */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={() => setSelectedTool('select')}\r\n                className={`p-2 rounded ${selectedTool === 'select' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                title=\"Select Tool\"\r\n              >\r\n                <Move className=\"h-4 w-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedTool('pan')}\r\n                className={`p-2 rounded ${selectedTool === 'pan' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                title=\"Pan Tool\"\r\n              >\r\n                <Move className=\"h-4 w-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedTool('connect')}\r\n                className={`p-2 rounded ${selectedTool === 'connect' ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                title=\"Connect Tool\"\r\n              >\r\n                <Link className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* View Controls */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                onClick={() => setShowGrid(!showGrid)}\r\n                className={`p-2 rounded ${showGrid ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                title=\"Toggle Grid\"\r\n              >\r\n                <Grid className=\"h-4 w-4\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setSnapToGrid(!snapToGrid)}\r\n                className={`p-2 rounded ${snapToGrid ? 'bg-blue-100 text-blue-600' : 'hover:bg-gray-100'}`}\r\n                title=\"Toggle Snap to Grid\"\r\n              >\r\n                <Settings className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Zoom Controls */}\r\n            <div className=\"flex items-center space-x-2\">\r\n              <button onClick={handleZoomOut} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Zoom Out\">\r\n                <ZoomOut className=\"h-4 w-4\" />\r\n              </button>\r\n              <span className=\"text-sm text-gray-600 min-w-[60px] text-center\">\r\n                {Math.round(zoom * 100)}%\r\n              </span>\r\n              <button onClick={handleZoomIn} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Zoom In\">\r\n                <ZoomIn className=\"h-4 w-4\" />\r\n              </button>\r\n              <button onClick={handleResetView} className=\"p-2 hover:bg-gray-100 rounded\" title=\"Reset View\">\r\n                <RotateCcw className=\"h-4 w-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            {/* History Controls */}\r\n            <button\r\n              onClick={undo}\r\n              disabled={historyIndex <= 0}\r\n              className=\"p-2 hover:bg-gray-100 rounded disabled:opacity-50\"\r\n              title=\"Undo\"\r\n            >\r\n              <Undo className=\"h-4 w-4\" />\r\n            </button>\r\n            <button\r\n              onClick={redo}\r\n              disabled={historyIndex >= history.length - 1}\r\n              className=\"p-2 hover:bg-gray-100 rounded disabled:opacity-50\"\r\n              title=\"Redo\"\r\n            >\r\n              <Redo className=\"h-4 w-4\" />\r\n            </button>\r\n\r\n            {/* Actions */}\r\n            {selectedComponents.length > 0 && (\r\n              <>\r\n                <button\r\n                  onClick={handleCopyComponents}\r\n                  className=\"p-2 hover:bg-gray-100 rounded\"\r\n                  title=\"Copy\"\r\n                >\r\n                  <Copy className=\"h-4 w-4\" />\r\n                </button>\r\n                <button\r\n                  onClick={handleDeleteComponent}\r\n                  className=\"p-2 hover:bg-red-100 text-red-600 rounded\"\r\n                  title=\"Delete\"\r\n                >\r\n                  <Trash2 className=\"h-4 w-4\" />\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n            <button\r\n              onClick={handlePasteComponents}\r\n              disabled={clipboard.length === 0}\r\n              className=\"p-2 hover:bg-gray-100 rounded disabled:opacity-50\"\r\n              title=\"Paste\"\r\n            >\r\n              <Square className=\"h-4 w-4\" />\r\n            </button>\r\n\r\n            <button\r\n              onClick={handleGenerateCode}\r\n              disabled={components.length === 0}\r\n              className=\"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded disabled:opacity-50\"\r\n              title=\"Generate Code\"\r\n            >\r\n              <Zap className=\"h-4 w-4 inline mr-1\" />\r\n              Generate Code\r\n            </button>\r\n\r\n            <button\r\n              onClick={handleExportCircuit}\r\n              className=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded\"\r\n              title=\"Export Circuit\"\r\n            >\r\n              <Download className=\"h-4 w-4 inline mr-1\" />\r\n              Export\r\n            </button>\r\n\r\n            <label className=\"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded cursor-pointer\">\r\n              <Upload className=\"h-4 w-4 inline mr-1\" />\r\n              Import\r\n              <input\r\n                type=\"file\"\r\n                accept=\".json\"\r\n                onChange={handleImportCircuit}\r\n                className=\"hidden\"\r\n              />\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex\">\r\n        {/* Component Library Sidebar */}\r\n        <div className=\"w-64 border-r border-gray-200 bg-gray-50 p-4 overflow-y-auto\">\r\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">Component Library</h4>\r\n\r\n          {/* Categories */}\r\n          <div className=\"space-y-4\">\r\n            {['board', 'input', 'output'].map(category => (\r\n              <div key={category}>\r\n                <h5 className=\"text-xs font-medium text-gray-700 uppercase tracking-wide mb-2\">\r\n                  {category}\r\n                </h5>\r\n                <div className=\"space-y-2\">\r\n                  {componentLibrary\r\n                    .filter(comp => comp.category === category)\r\n                    .map(component => {\r\n                      const Icon = component.icon;\r\n                      return (\r\n                        <div\r\n                          key={component.id}\r\n                          draggable\r\n                          onDragStart={(e) => handleDragStart(e, component)}\r\n                          className=\"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm cursor-move transition-all\"\r\n                        >\r\n                          <div\r\n                            className=\"p-2 rounded\"\r\n                            style={{ backgroundColor: component.color + '20' }}\r\n                          >\r\n                            <Icon\r\n                              className=\"h-5 w-5\"\r\n                              style={{ color: component.color }}\r\n                            />\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                              {component.name}\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              {component.pins} pins\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Canvas */}\r\n        <div className=\"flex-1 bg-gray-100 overflow-hidden relative\">\r\n          <div\r\n            ref={canvasRef}\r\n            className=\"w-full h-full cursor-crosshair\"\r\n            style={{\r\n              backgroundImage: showGrid ? `\r\n                radial-gradient(circle, #e5e7eb 1px, transparent 1px),\r\n                linear-gradient(to right, #f3f4f6 1px, transparent 1px),\r\n                linear-gradient(to bottom, #f3f4f6 1px, transparent 1px)\r\n              ` : 'none',\r\n              backgroundSize: showGrid ? `${GRID_SIZE * zoom}px ${GRID_SIZE * zoom}px` : 'auto',\r\n              backgroundPosition: `${panOffset.x}px ${panOffset.y}px`\r\n            }}\r\n            onDrop={handleDrop}\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onMouseDown={handleMouseDown}\r\n            onMouseMove={handleMouseMove}\r\n            onMouseUp={handleMouseUp}\r\n            onMouseLeave={handleMouseUp}\r\n            onClick={() => {\r\n              setSelectedComponents([]);\r\n              setSelectedComponent(null);\r\n            }}\r\n          >\r\n            {/* Render connections first (behind components) */}\r\n            {connections.map(connection => {\r\n              const fromComp = components.find(c => c.id === connection.from.componentId);\r\n              const toComp = components.find(c => c.id === connection.to.componentId);\r\n\r\n              if (!fromComp || !toComp) return null;\r\n\r\n              const fromX = fromComp.x + (fromComp.size?.width || 60) / 2;\r\n              const fromY = fromComp.y + (fromComp.size?.height || 40) / 2;\r\n              const toX = toComp.x + (toComp.size?.width || 60) / 2;\r\n              const toY = toComp.y + (toComp.size?.height || 40) / 2;\r\n\r\n              return (\r\n                <svg\r\n                  key={connection.id}\r\n                  className=\"absolute inset-0 pointer-events-none\"\r\n                  style={{ zIndex: 1 }}\r\n                >\r\n                  <line\r\n                    x1={(fromX + panOffset.x) * zoom}\r\n                    y1={(fromY + panOffset.y) * zoom}\r\n                    x2={(toX + panOffset.x) * zoom}\r\n                    y2={(toY + panOffset.y) * zoom}\r\n                    stroke={connection.color}\r\n                    strokeWidth=\"2\"\r\n                    markerEnd=\"url(#arrowhead)\"\r\n                  />\r\n                  <defs>\r\n                    <marker\r\n                      id=\"arrowhead\"\r\n                      markerWidth=\"10\"\r\n                      markerHeight=\"7\"\r\n                      refX=\"9\"\r\n                      refY=\"3.5\"\r\n                      orient=\"auto\"\r\n                    >\r\n                      <polygon\r\n                        points=\"0 0, 10 3.5, 0 7\"\r\n                        fill={connection.color}\r\n                      />\r\n                    </marker>\r\n                  </defs>\r\n                </svg>\r\n              );\r\n            })}\r\n\r\n            {/* Render components */}\r\n            {components.map(component => {\r\n              const libraryComponent = componentLibrary.find(c => c.id === component.type);\r\n              if (!libraryComponent) return null;\r\n\r\n              const Icon = libraryComponent.icon;\r\n              const isSelected = selectedComponents.includes(component.id);\r\n\r\n              return (\r\n                <div\r\n                  key={component.id}\r\n                  className={`absolute cursor-move border-2 rounded-lg p-3 bg-white shadow-sm transition-all ${\r\n                    isSelected\r\n                      ? 'border-blue-500 bg-blue-50 shadow-lg scale-105'\r\n                      : 'border-gray-300 hover:border-gray-400 hover:shadow-md'\r\n                  }`}\r\n                  style={{\r\n                    left: (component.x * zoom) + panOffset.x,\r\n                    top: (component.y * zoom) + panOffset.y,\r\n                    transform: `scale(${zoom})`,\r\n                    transformOrigin: 'top left',\r\n                    minWidth: component.size?.width || 60,\r\n                    minHeight: component.size?.height || 40\r\n                  }}\r\n                  onClick={(e) => handleComponentClick(component.id, e)}\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <div\r\n                      className=\"p-1 rounded\"\r\n                      style={{ backgroundColor: component.color + '20' }}\r\n                    >\r\n                      <Icon\r\n                        className=\"h-4 w-4\"\r\n                        style={{ color: component.color }}\r\n                      />\r\n                    </div>\r\n                    {isSelected && (\r\n                      <div className=\"flex space-x-1\">\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            // Rotate component\r\n                            const updatedComponents = components.map(comp =>\r\n                              comp.id === component.id\r\n                                ? { ...comp, rotation: (comp.rotation + 90) % 360 }\r\n                                : comp\r\n                            );\r\n                            setComponents(updatedComponents);\r\n                            saveToHistory(updatedComponents, connections);\r\n                          }}\r\n                          className=\"p-1 hover:bg-gray-200 rounded\"\r\n                        >\r\n                          <RotateCw className=\"h-3 w-3\" />\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"text-xs text-center text-gray-700 font-medium truncate\">\r\n                    {component.name}\r\n                  </div>\r\n\r\n                  {/* Connection points */}\r\n                  <div className=\"absolute -left-1 top-1/2 transform -translate-y-1/2\">\r\n                    <div\r\n                      className={`w-3 h-3 rounded-full border-2 cursor-pointer transition-colors ${\r\n                        isConnecting && connectionStart === component.id\r\n                          ? 'bg-blue-500 border-blue-600'\r\n                          : 'bg-white border-gray-400 hover:border-blue-400'\r\n                      }`}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleConnectionClick(component.id);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"absolute -right-1 top-1/2 transform -translate-y-1/2\">\r\n                    <div\r\n                      className={`w-3 h-3 rounded-full border-2 cursor-pointer transition-colors ${\r\n                        isConnecting && connectionStart === component.id\r\n                          ? 'bg-blue-500 border-blue-600'\r\n                          : 'bg-white border-gray-400 hover:border-blue-400'\r\n                      }`}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        handleConnectionClick(component.id);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Canvas overlay for empty state */}\r\n          {components.length === 0 && (\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                <Zap className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                  Start Designing Your Circuit\r\n                </h3>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  Drag components from the sidebar to begin building your circuit\r\n                </p>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  Tip: Use the pan tool to navigate and zoom controls to adjust view\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Connection mode indicator */}\r\n          {isConnecting && (\r\n            <div className=\"absolute top-4 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Link className=\"h-4 w-4\" />\r\n                <span className=\"text-sm\">Click on another component to create connection</span>\r\n                <button\r\n                  onClick={() => {\r\n                    setIsConnecting(false);\r\n                    setConnectionStart(null);\r\n                  }}\r\n                  className=\"ml-2 hover:bg-blue-700 p-1 rounded\"\r\n                >\r\n                  <X className=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Properties Panel */}\r\n        <div className=\"w-80 border-l border-gray-200 bg-gray-50 p-4 overflow-y-auto\">\r\n          <h4 className=\"text-sm font-semibold text-gray-900 mb-4\">Properties</h4>\r\n\r\n          {selectedComponent ? (\r\n            <div className=\"space-y-4\">\r\n              {(() => {\r\n                const component = components.find(c => c.id === selectedComponent);\r\n                if (!component) return null;\r\n\r\n                return (\r\n                  <div>\r\n                    <h5 className=\"text-sm font-medium text-gray-900 mb-2\">\r\n                      {component.name}\r\n                    </h5>\r\n\r\n                    <div className=\"space-y-3\">\r\n                      <div>\r\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                          Position X\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={Math.round(component.x)}\r\n                          onChange={(e) => {\r\n                            const updatedComponents = components.map(comp =>\r\n                              comp.id === component.id\r\n                                ? { ...comp, x: parseInt(e.target.value) || 0 }\r\n                                : comp\r\n                            );\r\n                            setComponents(updatedComponents);\r\n                            saveToHistory(updatedComponents, connections);\r\n                          }}\r\n                          className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                          Position Y\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={Math.round(component.y)}\r\n                          onChange={(e) => {\r\n                            const updatedComponents = components.map(comp =>\r\n                              comp.id === component.id\r\n                                ? { ...comp, y: parseInt(e.target.value) || 0 }\r\n                                : comp\r\n                            );\r\n                            setComponents(updatedComponents);\r\n                            saveToHistory(updatedComponents, connections);\r\n                          }}\r\n                          className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                          Rotation\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={component.rotation || 0}\r\n                          onChange={(e) => {\r\n                            const updatedComponents = components.map(comp =>\r\n                              comp.id === component.id\r\n                                ? { ...comp, rotation: parseInt(e.target.value) || 0 }\r\n                                : comp\r\n                            );\r\n                            setComponents(updatedComponents);\r\n                            saveToHistory(updatedComponents, connections);\r\n                          }}\r\n                          className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })()}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center text-gray-500\">\r\n              <Square className=\"mx-auto h-8 w-8 mb-2 opacity-50\" />\r\n              <p className=\"text-sm\">Select a component to view its properties</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Circuit Statistics */}\r\n          <div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n            <h5 className=\"text-sm font-medium text-gray-900 mb-2\">Circuit Stats</h5>\r\n            <div className=\"space-y-1 text-sm text-gray-600\">\r\n              <div className=\"flex justify-between\">\r\n                <span>Components:</span>\r\n                <span className=\"font-medium\">{components.length}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Connections:</span>\r\n                <span className=\"font-medium\">{connections.length}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Zoom:</span>\r\n                <span className=\"font-medium\">{Math.round(zoom * 100)}%</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircuitDesigner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}