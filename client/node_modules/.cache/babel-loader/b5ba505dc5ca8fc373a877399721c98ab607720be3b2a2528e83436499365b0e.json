{"ast":null,"code":"/**\n * Project Workspace Page\n * Main workspace for editing projects with circuit designer and code editor\n */import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Save,Play,Download,Share,Settings,Eye,Code,Zap,Cpu,Upload,RotateCcw}from'lucide-react';import{useProject}from'../context/ProjectContext';import LoadingSpinner from'../components/common/LoadingSpinner';import CircuitDesigner from'../components/circuit/CircuitDesigner';import CodeEditor from'../components/editor/CodeEditor';import AIPanel from'../components/ai/AIPanel';import SimulationPanel from'../components/simulation/SimulationPanel';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectWorkspace=()=>{const{id}=useParams();const navigate=useNavigate();const{currentProject,loadProject,updateProject,updateCircuit,updateCode,loading}=useProject();const[activeTab,setActiveTab]=useState('designer');const[isDirty,setIsDirty]=useState(false);const[autoSave,setAutoSave]=useState(true);const[showAIPanel,setShowAIPanel]=useState(false);// Load project on mount\nuseEffect(()=>{if(id){loadProject(id);}},[id,loadProject]);// Auto-save functionality\nuseEffect(()=>{if(!autoSave||!isDirty)return;const saveTimer=setTimeout(async()=>{if(currentProject){await handleSave();}},30000);// Auto-save every 30 seconds\nreturn()=>clearTimeout(saveTimer);},[currentProject,isDirty,autoSave]);const handleSave=async()=>{if(!currentProject)return;try{await updateProject(currentProject._id,{name:currentProject.name,description:currentProject.description,circuitData:currentProject.circuitData,code:currentProject.code});setIsDirty(false);}catch(error){console.error('Save failed:',error);}};const handleCircuitChange=async circuitData=>{if(currentProject){await updateCircuit(currentProject._id,circuitData);setIsDirty(true);}};const handleCodeChange=async code=>{if(currentProject){await updateCode(currentProject._id,code);setIsDirty(true);}};const handleExport=()=>{if(!currentProject)return;const exportData={name:currentProject.name,description:currentProject.description,circuitData:currentProject.circuitData,code:currentProject.code,boardType:currentProject.boardType,exportedAt:new Date().toISOString()};const blob=new Blob([JSON.stringify(exportData,null,2)],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(currentProject.name.replace(/\\s+/g,'_'),\"_export.json\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};const handleRunSimulation=()=>{setActiveTab('simulation');// Implementation for running simulation\n};const handleGenerateCode=()=>{setShowAIPanel(true);setActiveTab('ai');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\",message:\"Loading project...\"})});}if(!currentProject){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Project Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"The project you're looking for doesn't exist or you don't have access to it.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg\",children:\"Back to Dashboard\"})]})});}const tabs=[{id:'designer',label:'Circuit Designer',icon:Zap},{id:'editor',label:'Code Editor',icon:Code},{id:'simulation',label:'Simulation',icon:Play},{id:'ai',label:'AI Assistant',icon:Cpu}];return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-b border-gray-200 px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:currentProject.name}),isDirty&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-orange-600 bg-orange-100 px-2 py-1 rounded\",children:\"Unsaved changes\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:autoSave,onChange:e=>setAutoSave(e.target.checked),className:\"rounded border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Auto-save\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,disabled:!isDirty,className:\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Save\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleRunSimulation,className:\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Run\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGenerateCode,className:\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Cpu,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AI Generate\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-l border-gray-300 h-6 mx-2\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExport,className:\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Share,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Share\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center space-x-6 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Board: \",currentProject.boardType||'Arduino Uno']}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Status: \",currentProject.status||'Draft']}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Last saved: \",new Date(currentProject.updatedAt).toLocaleString()]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-6\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",children:tabs.map(tab=>{const Icon=tab.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors duration-200 \".concat(activeTab===tab.id?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:tab.label})]},tab.id);})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-hidden\",children:[activeTab==='designer'&&/*#__PURE__*/_jsx(CircuitDesigner,{project:currentProject,onCircuitChange:handleCircuitChange}),activeTab==='editor'&&/*#__PURE__*/_jsx(CodeEditor,{code:currentProject.code||'',onCodeChange:handleCodeChange,language:\"cpp\",boardType:currentProject.boardType}),activeTab==='simulation'&&/*#__PURE__*/_jsx(SimulationPanel,{project:currentProject,onCodeUpdate:handleCodeChange}),activeTab==='ai'&&/*#__PURE__*/_jsx(AIPanel,{project:currentProject,onCodeGenerated:handleCodeChange,onCircuitGenerated:handleCircuitChange})]}),showAIPanel&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-full max-w-4xl h-5/6 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"AI Assistant\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAIPanel(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(RotateCcw,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-full\",children:/*#__PURE__*/_jsx(AIPanel,{project:currentProject,onCodeGenerated:handleCodeChange,onCircuitGenerated:handleCircuitChange,embedded:true})})]})})]});};export default ProjectWorkspace;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Save","Play","Download","Share","Settings","Eye","Code","Zap","Cpu","Upload","RotateCcw","useProject","LoadingSpinner","CircuitDesigner","CodeEditor","AIPanel","SimulationPanel","jsx","_jsx","jsxs","_jsxs","ProjectWorkspace","id","navigate","currentProject","loadProject","updateProject","updateCircuit","updateCode","loading","activeTab","setActiveTab","isDirty","setIsDirty","autoSave","setAutoSave","showAIPanel","setShowAIPanel","saveTimer","setTimeout","handleSave","clearTimeout","_id","name","description","circuitData","code","error","console","handleCircuitChange","handleCodeChange","handleExport","exportData","boardType","exportedAt","Date","toISOString","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","concat","replace","body","appendChild","click","removeChild","revokeObjectURL","handleRunSimulation","handleGenerateCode","className","children","size","message","onClick","tabs","label","icon","checked","onChange","e","target","disabled","status","updatedAt","toLocaleString","map","tab","Icon","project","onCircuitChange","onCodeChange","language","onCodeUpdate","onCodeGenerated","onCircuitGenerated","embedded"],"sources":["/workspace/client/src/pages/ProjectWorkspace.js"],"sourcesContent":["/**\n * Project Workspace Page\n * Main workspace for editing projects with circuit designer and code editor\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Save,\n  Play,\n  Download,\n  Share,\n  Settings,\n  Eye,\n  Code,\n  Zap,\n  Cpu,\n  Upload,\n  RotateCcw\n} from 'lucide-react';\n\nimport { useProject } from '../context/ProjectContext';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport CircuitDesigner from '../components/circuit/CircuitDesigner';\nimport CodeEditor from '../components/editor/CodeEditor';\nimport AIPanel from '../components/ai/AIPanel';\nimport SimulationPanel from '../components/simulation/SimulationPanel';\n\nconst ProjectWorkspace = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { currentProject, loadProject, updateProject, updateCircuit, updateCode, loading } = useProject();\n\n  const [activeTab, setActiveTab] = useState('designer');\n  const [isDirty, setIsDirty] = useState(false);\n  const [autoSave, setAutoSave] = useState(true);\n  const [showAIPanel, setShowAIPanel] = useState(false);\n\n  // Load project on mount\n  useEffect(() => {\n    if (id) {\n      loadProject(id);\n    }\n  }, [id, loadProject]);\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (!autoSave || !isDirty) return;\n\n    const saveTimer = setTimeout(async () => {\n      if (currentProject) {\n        await handleSave();\n      }\n    }, 30000); // Auto-save every 30 seconds\n\n    return () => clearTimeout(saveTimer);\n  }, [currentProject, isDirty, autoSave]);\n\n  const handleSave = async () => {\n    if (!currentProject) return;\n\n    try {\n      await updateProject(currentProject._id, {\n        name: currentProject.name,\n        description: currentProject.description,\n        circuitData: currentProject.circuitData,\n        code: currentProject.code\n      });\n      setIsDirty(false);\n    } catch (error) {\n      console.error('Save failed:', error);\n    }\n  };\n\n  const handleCircuitChange = async (circuitData) => {\n    if (currentProject) {\n      await updateCircuit(currentProject._id, circuitData);\n      setIsDirty(true);\n    }\n  };\n\n  const handleCodeChange = async (code) => {\n    if (currentProject) {\n      await updateCode(currentProject._id, code);\n      setIsDirty(true);\n    }\n  };\n\n  const handleExport = () => {\n    if (!currentProject) return;\n\n    const exportData = {\n      name: currentProject.name,\n      description: currentProject.description,\n      circuitData: currentProject.circuitData,\n      code: currentProject.code,\n      boardType: currentProject.boardType,\n      exportedAt: new Date().toISOString()\n    };\n\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], {\n      type: 'application/json'\n    });\n\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${currentProject.name.replace(/\\s+/g, '_')}_export.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleRunSimulation = () => {\n    setActiveTab('simulation');\n    // Implementation for running simulation\n  };\n\n  const handleGenerateCode = () => {\n    setShowAIPanel(true);\n    setActiveTab('ai');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <LoadingSpinner size=\"large\" message=\"Loading project...\" />\n      </div>\n    );\n  }\n\n  if (!currentProject) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Project Not Found</h2>\n          <p className=\"text-gray-600 mb-6\">The project you're looking for doesn't exist or you don't have access to it.</p>\n          <button\n            onClick={() => navigate('/')}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg\"\n          >\n            Back to Dashboard\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const tabs = [\n    { id: 'designer', label: 'Circuit Designer', icon: Zap },\n    { id: 'editor', label: 'Code Editor', icon: Code },\n    { id: 'simulation', label: 'Simulation', icon: Play },\n    { id: 'ai', label: 'AI Assistant', icon: Cpu }\n  ];\n\n  return (\n    <div className=\"h-full flex flex-col bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200 px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">{currentProject.name}</h1>\n            {isDirty && (\n              <span className=\"text-sm text-orange-600 bg-orange-100 px-2 py-1 rounded\">\n                Unsaved changes\n              </span>\n            )}\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            {/* Auto-save toggle */}\n            <label className=\"flex items-center space-x-2 text-sm\">\n              <input\n                type=\"checkbox\"\n                checked={autoSave}\n                onChange={(e) => setAutoSave(e.target.checked)}\n                className=\"rounded border-gray-300\"\n              />\n              <span>Auto-save</span>\n            </label>\n\n            {/* Action buttons */}\n            <button\n              onClick={handleSave}\n              disabled={!isDirty}\n              className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\"\n            >\n              <Save className=\"h-4 w-4\" />\n              <span>Save</span>\n            </button>\n\n            <button\n              onClick={handleRunSimulation}\n              className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\"\n            >\n              <Play className=\"h-4 w-4\" />\n              <span>Run</span>\n            </button>\n\n            <button\n              onClick={handleGenerateCode}\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\"\n            >\n              <Cpu className=\"h-4 w-4\" />\n              <span>AI Generate</span>\n            </button>\n\n            <div className=\"border-l border-gray-300 h-6 mx-2\"></div>\n\n            <button\n              onClick={handleExport}\n              className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\"\n            >\n              <Download className=\"h-4 w-4\" />\n              <span>Export</span>\n            </button>\n\n            <button className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors duration-200\">\n              <Share className=\"h-4 w-4\" />\n              <span>Share</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Project info */}\n        <div className=\"mt-4 flex items-center space-x-6 text-sm text-gray-600\">\n          <span>Board: {currentProject.boardType || 'Arduino Uno'}</span>\n          <span>Status: {currentProject.status || 'Draft'}</span>\n          <span>Last saved: {new Date(currentProject.updatedAt).toLocaleString()}</span>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"px-6\">\n          <nav className=\"flex space-x-8\">\n            {tabs.map((tab) => {\n              const Icon = tab.icon;\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors duration-200 ${\n                    activeTab === tab.id\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  }`}\n                >\n                  <Icon className=\"h-4 w-4\" />\n                  <span>{tab.label}</span>\n                </button>\n              );\n            })}\n          </nav>\n        </div>\n      </div>\n\n      {/* Content Area */}\n      <div className=\"flex-1 overflow-hidden\">\n        {activeTab === 'designer' && (\n          <CircuitDesigner\n            project={currentProject}\n            onCircuitChange={handleCircuitChange}\n          />\n        )}\n\n        {activeTab === 'editor' && (\n          <CodeEditor\n            code={currentProject.code || ''}\n            onCodeChange={handleCodeChange}\n            language=\"cpp\"\n            boardType={currentProject.boardType}\n          />\n        )}\n\n        {activeTab === 'simulation' && (\n          <SimulationPanel\n            project={currentProject}\n            onCodeUpdate={handleCodeChange}\n          />\n        )}\n\n        {activeTab === 'ai' && (\n          <AIPanel\n            project={currentProject}\n            onCodeGenerated={handleCodeChange}\n            onCircuitGenerated={handleCircuitChange}\n          />\n        )}\n      </div>\n\n      {/* AI Panel Overlay */}\n      {showAIPanel && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg w-full max-w-4xl h-5/6 overflow-hidden\">\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">AI Assistant</h3>\n              <button\n                onClick={() => setShowAIPanel(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <RotateCcw className=\"h-6 w-6\" />\n              </button>\n            </div>\n            <div className=\"h-full\">\n              <AIPanel\n                project={currentProject}\n                onCodeGenerated={handleCodeChange}\n                onCircuitGenerated={handleCircuitChange}\n                embedded={true}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectWorkspace;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}